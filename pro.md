优惠中台，简称Promotion，在用户下单过程中，主要提供优惠计算能力。目前提供百胜肯德基（KFC）、必胜客（PH）、小品牌（SAAS）的计算。主要对接系统包括API、菜单中台（Menu Service）、订单中台（Order Service）。

Promotion错误码由三部分组成，例如332014459这个错误码，由33、201、4459组成，第一段前两位为系统代码，33代表Promotion，第二段为第三位到第五位，代表接口，201代表加购优惠接口，第三段为第六位到第九位，为具体错误码。

第二段错误码
| 错误码 | 接口描述           |
| ------ | :----------------- |
| 201    | 加购优惠           |
| 202    | 获取优惠券         |
| 203    | 获取店铺活动       |
| 204    | 移除优惠           |
| 205    | 推荐优惠           |
| 206    | 校验订单           |
| 207    | 获取优惠详情       |
| 208    | 获取已有卡推荐金额 |
| 209    | 优惠金额预计算     |
| 210    | 校验优惠           |
| 211    | 营销魔方优惠金额   |

第三段错误码
| 错误码 | 错误情况&返回信息                                            | 补充说明                                                     |
| ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 1300   | 缓存中间件获取数据异常【抱歉，该优惠暂时无法使用，请稍后再试（300）】 | 系统原因                                                     |
| 2310   | 外部请求参数异常【抱歉，该优惠使用失败，如有问题请联系客服（310）】 | 系统参数错误                                                 |
| 2311   | 日期格式化异常【抱歉，该优惠使用失败，如有问题请联系客服（311）】 | 系统参数错误                                                 |
| 2312   | 请求参数不合法【抱歉，该优惠使用失败，如有问题请联系客服（312）】 | 系统参数错误                                                 |
| 3320   | 内部数据转换异常【抱歉，该优惠使用失败，如有问题请联系客服（320）】 | 系统参数错误                                                 |
| 3321   | 优惠不存在realcod 【抱歉，该优惠使用失败，如有问题请联系客服（321）】 | 未查到优惠规则                                               |
| 3322   | 待加购优惠商品不能对应多个优惠商品 【抱歉，该优惠使用失败，如有问题请联系客服（322）】 | 2.0未用到，不会返回                                          |
| 4330   | 获取餐厅菜单数据异常【抱歉，该优惠使用失败，如有问题请联系客服（330）】 | 获取餐厅菜单数据异常                                         |
| 4331   | 获取餐厅菜单数据超时【抱歉，该优惠暂时无法使用，请稍后再试（331）】 | 获取餐厅菜单数据超时                                         |
| 4332   | 请求券中心校验券异常【抱歉，该优惠使用失败，如有问题请联系客服（332）】 | 券中心异常导致未返回信息，promotion兜底返回                  |
| 4333   | 请求券中心校验券超时【抱歉，该优惠暂时无法使用，请稍后再试（333）】 | 请求券中心校验券超时                                         |
| 4334   | 请求券中心校验券返回结果为空【抱歉，该优惠使用失败，如有问题请联系客服（334）】 | 未调用成功，券中心返回为空                                   |
| 4335   | 优惠券不满足使用条件【店铺类型或者vPay不满足使用条件(335)】  | 店铺类型或者vPay不满足使用条件                               |
| 4336   | 获取产品子项和modify信息超时【抱歉，该优惠暂时无法使用，请稍后再试（336）】 | 获取产品子项和modify信息超时，暂未用到                       |
| 4337   | 获取产品子项和modify信息异常【抱歉，该优惠使用失败，如有问题请联系客服（337）】 | 获取产品子项和modify信息异常，暂未用到                       |
| 4338   | 调用券中心验证券返回空结果【优惠券无法使用（338）】          | 调用券中心验证券返回空结果                                   |
| 4339   | 订单只能使用一张神钱包优惠券，不能多于一张常【订单只能使用一张神钱包优惠券，不能多于一张（339）】 | 订单只能使用一张神钱包优惠券，不能多于一张常                 |
| 4340   | 产品组中的产品不存在【产品组中的产品不存在（340）】          | 产品组中的产品不存在                                         |
| 4341   | 获取餐厅daypart异常【抱歉，该优惠使用失败，如有问题请联系客服（341）】 | 获取餐厅daypart异常                                          |
| 5350   | 根据优惠Id获取不到优惠【抱歉，该优惠使用失败，如有问题请联系客服（350）】 | 根据优惠Id获取不到优惠，数据库中的优惠ID                     |
| 5351   | 根据优惠Code获取不到优惠【抱歉，该优惠使用失败，如有问题请联系客服（351）】 | 根据优惠Code没有找到对应的优惠规则                           |
| 5352   | 使用优惠给定数据不合法【抱歉，该优惠使用失败，如有问题请联系客服（352）】 | 待执行的自动优惠,存在多种候选的优惠结果信息, 优惠数据非法，与配置有关系 |
| 5353   | 使用优惠与订单内优惠项互斥【该优惠无法与其他优惠同时使用（353）】 | 优惠互斥场景，包括所有优惠类型                               |
| 5354   | 执行优惠次数有误【抱歉，该优惠使用失败，如有问题请联系客服（354）】 | 2.0未用到，不会返回                                          |
| 5355   | 执行优惠时优惠产品不可售【优惠商品已售罄，该优惠暂无法使用（355）】 | 执行优惠时优惠产品不可售，是否包含备份产品                   |
| 5356   | 执行优惠时优惠套餐子项不可售【优惠商品已售罄，该优惠暂无法使用（356）】 | 执行优惠时优惠套餐子项不可售                                 |
| 5357   | 优惠产品为非固定套餐【抱歉，该优惠使用失败，如有问题请联系客服（357）】 | menu返回为固定套餐，但使用优惠是为非固定套餐。与配置错误有关 |
| 5358   | 主产品临时断货，备份产品临时或永久断货时：优惠商品今日售罄，该券暂无法使用(358)。 | 主产品临时断货，备份产品临时或永久断货时：优惠商品今日售罄，该券暂无法使用(358)。 |
| 5359   | 主产品永久断货，备份产品临时或永久断货时：优惠商品已提前售罄，该券暂无法使用(359)。 | 主产品永久断货，备份产品临时或永久断货时：优惠商品已提前售罄，该券暂无法使用(359)。 |
| 5360   | 福袋优惠配置异常                                             | 2.0未用到，不会返回                                          |
| 5361   | 买一赠一原价产品项不存在                                     | 买一商品未查到                                               |
| 5362   | 买一赠一优惠赠品价格高于原价产品的价格                       | 买一赠一优惠赠品价格高于原价产品的价格                       |
| 5363   | 优惠订单项数据不合法                                         | 2.0未用到，不会返回                                          |
| 5364   | 原价A产品订单项不存在                                        | 2.0未用到，不会返回                                          |
| 5365   | 外送费超过一条                                               |                                                              |
| 5366   | 不存在外送费                                                 |                                                              |
| 5367   | 标记的产品项不存在                                           |                                                              |
| 5368   | 标记产品项数量不一致                                         |                                                              |
| 5369   | 不存在满减项                                                 |                                                              |
| 5370   | 优惠券校验失败获取不到券详情【抱歉，该优惠使用失败，如有问题请联系客服（370）】 | 优惠券校验失败获取不到券详情                                 |
| 5371   | 优惠券没有配置对应的优惠【抱歉，该优惠使用失败，如有问题请联系客服（371）】 | 优惠券没有配置对应的优惠                                     |
| 5372   | 不确定优惠券为什么不能使用时的默认异常【抱歉，该优惠使用失败，如有问题请联系客服（372）】 | 无法定位问题的异常情况                                       |
| 5373   | 优惠券不能重复使用【请勿重复使用优惠（373）】                | 优惠券不能重复使用                                           |
| 5374   | 优惠券用户信息跟订单用户信息不一致【抱歉，该优惠使用失败，如有问题请联系客服（374）】 | 优惠券用户信息跟订单用户信息不一致                           |
| 5375   | 平台专享券校验不通过【抱歉，该优惠使用失败，如有问题请联系客服（375）】 | 平台专享券校验不通过                                         |
| 5376   | 个人专享券校验不通过【该特权仅限特定手机尾号的用户使用哦（376）】 | 个人专享券校验不通过                                         |
| 5377   | 优惠券对应的优惠商品已经售罄【优惠商品已售罄，该优惠暂无法使用（377）】 | 优惠券对应的优惠商品已经售罄                                 |
| 5378   | 优惠券对应的优惠区域不满足【当前位置不支持使用该劵，请选择其他地址（378）】 | 优惠券对应的优惠区域不满足                                   |
| 5379   | 优惠券对应的优惠时间不满足【该优惠当前时间无法使用（379）】  | 优惠券对应的优惠时间不满足                                   |
| 5380   | 优惠券对应的优惠人群不满足【该优惠不满足使用条件，请查看优惠详情（380）】 | 优惠券对应的优惠人群不满足                                   |
| 5381   | 优惠券对应的优惠渠道不满足【该优惠不满足使用条件，请查看优惠详情（381）】 | 优惠券对应的优惠渠道不满足                                   |
| 5382   | 优惠券对应的优惠与订单内优惠项互斥【该优惠无法与其他优惠同时使用（382）】 | 优惠互斥                                                     |
| 5383   | 优惠券对应的优惠金额条件不满足【满指定金额才可使用该优惠哦（383）】 | 优惠券对应的优惠金额条件不满足                               |
| 5384   | 优惠券对应的优惠产品条件不满足【满指定餐品才可使用该优惠哦（384）】 | 优惠券对应的优惠产品条件不满足                               |
| 5385   | 优惠券使用报错次数达到上限【抱歉，该优惠使用失败，如有问题请联系客服（385）】 | 系统中对订单有错误次数校验，达到一定次数，会限制所有券的使用 |
| 5386   | 优惠券补贴配置信息获取失败【抱歉，该优惠使用失败，如有问题请联系客服（386）】 | 配置项缺失                                                   |
| 5387   | 优惠券补贴金额解析失败【抱歉，该优惠使用失败，如有问题请联系客服（387）】 | 优惠券补贴金额解析失败                                       |
| 5388   | 精选优惠有效时间格式错误【抱歉，获取精选优惠列表失败，如有问题请联系客服（388）】 | 精选优惠有效时间格式错误                                     |
| 5389   | 福袋优惠补贴金额解析失败【抱歉，该优惠使用失败，如有问题请联系客服（389）】 | 福袋优惠补贴金额解析失败                                     |
| 5390   | 商品套餐项不可售【抱歉，该优惠使用失败，如有问题请联系客服（5390）】 | 商品套餐项不可售                                             |
| 5391   | 福袋优惠使用报错次数达到上限【抱歉，该优惠使用失败，如有问题请联系客服（"5391"）】 | 系统中对订单有错误次数校验，达到一定次数，会限制福袋的优惠使用 |
| 5392   | 特价菜开关已关闭【抱歉，该优惠使用失败，如有问题请联系客服（5392）】 | 特价菜开关已关闭                                             |
| 5393   | 暂不支持的券多商品的使用场景【抱歉，该优惠使用失败，如有问题请联系客服（5393）】 | 2.0未用到，不会返回                                          |
| 5394   | 一张券使用的产品券超过券可用的最大限额【抱歉，该优惠使用失败，如有问题请联系客服（5394）】 | 2.0未用到，不会返回                                          |
| 5395   | 一张券使用的产品种类不同或者所选的套餐子项不一致【抱歉，该优惠使用失败，如有问题请联系客服（5395）】 | 2.0未用到，不会返回                                          |
| 5396   | 产品条件校验失败【抱歉，该优惠使用失败，如有问题请联系客服（5396）】 |                                                              |
| 5397   | 优惠券对应的天气不满足【当前位置不支持使用该劵，请选择其他地址（397）】 | 优惠券对应的天气不满足                                       |
| 5397   | 添加的B餐品数量，与配置的优惠Bnum不一致                      | Bnum：B产品数量，优惠产品                                    |
| 5398   | 未找到要删除的订单项                                         | 2.0未用到，不会返回                                          |
| 5399   | 移除多次券错误                                               | 2.0未用到，不会返回                                          |
| 5410   | 优惠券对应的daypart不满足【该优惠当前用餐时间段无法使用（910）】 | 优惠券对应的daypart不满足                                    |
| 5911   | 优惠券对应的dayWeek或者dayMonth不满足【该优惠周几或几号无法使用（911）】 | 优惠券对应的dayWeek或者dayMonth不满足                        |
| 5412   | 优惠券对应的即时单预约单不满足【该优惠即时单或预约单无法使用（912）】 | 优惠券对应的即时单预约单不满足                               |
| 5913   | 优惠券对应的用餐日期不满足【该优惠用餐日期无法使用（913）】  | 优惠券对应的用餐日期不满足                                   |
| 5914   | 未找到，对应的优惠规则【未找到，对应的优惠规则（914）】      | 未找到，对应的优惠规则                                       |
| 5915   | 未找到，对应的菜单详细信息【未找到，对应的菜单详细信息（915）】 | 加购的时候，没有找到相应的菜品，上游返回的信息有误           |
| 5916   | 未找到，该优惠的条件项或结果项【未找到，该优惠的条件项或结果项（916）】 | 初始化时优惠上传到缓存中，转换时数据异常，未找到，该优惠的条件项或结果项/不会返回给前端 |
| 5917   | 优惠参数配置错误【优惠参数配置错误（917）】                  | 优惠参数配置错误                                             |
| 5918   | 该prime权益，暂不支持【该prime权益，暂不支持（918）】        | 该prime权益，暂不支持                                        |
| 5919   | 加购wow桶失败【加购wow桶失败（919）】                        | 加购wow桶失败                                                |
| 5920   | 达到活动购买上线                                             | 特价菜达到活动购买数量上限                                   |
| 5921   | 关联推荐，条件产品金额门槛满XX元下单可享                     | 关联推荐，条件产品金额门槛满XX元下单可享                     |
| 5922   | 关联推荐，条件产品数量门槛满YY件下单可享                     | 关联推荐，条件产品数量门槛满YY件下单可享                     |
| 5923   | 关联推荐、天天一元、雨天半价，金额门槛 【满XX元下单可享】    | 金额门槛未满足                                               |
| 5924   | 关联推荐、天天一元、雨天半价，单品购买上线 【该优惠餐品仅可加购M份，看看别的吧】 | 加购数量有限制，已达到上限                                   |
| 5925   | 同一个优惠，整单减结果项，超过一条                           |                                                              |
| 5926   | 合并失败                                                     | 加购相同的菜品时，购物车中合并展示优惠菜品                   |
| 5927   | 用券失败                                                     | 用券失败                                                     |
| 5928   | 用券权益失败                                                 | 2.0未用到，不会返回                                          |
| 5929   | 不存在满折项                                                 | 不存在满折项                                                 |
| 5930   | 同一个优惠，整单折结果项，超过一条                           |                                                              |
| 5931   | 未找到条件匹配器                                             | 不会返回给前端                                               |
| 5932   | 未找到结果匹配器                                             | 不会返回给前端                                               |
| 5933   | 未找到已使用的结果项                                         |                                                              |
| 5934   | 未找到，对应的引擎【未找到，对应的优惠规则（934）】          | 不会返回给前端                                               |
| 5935   | 未找到，对应的冲突类型【未找到，对应的优惠规则（935）】      | 不会返回给前端                                               |
| 5952   | 整单金额，未满足优惠门槛【抱歉，该优惠使用失败，如有问题请联系客服（952）】 | 整单金额，未满足优惠门槛                                     |
| 5953   | 条件产品金额条件，未满足优惠门槛【抱歉，该优惠使用失败，如有问题请联系客服（953）】 | 条件产品金额条件，未满足优惠门槛                             |
| 5954   | 条件产品份数，未满足优惠门槛【抱歉，该优惠使用失败，如有问题请联系客服（954）】 | 条件产品份数，未满足份数门槛                                 |
| 5955   | 整单结果，不匹配，给定数据不合法【抱歉，该优惠使用失败，如有问题请联系客服（955）】 |                                                              |
| 5956   | 餐品结果，不匹配，给定数据不合法【抱歉，该优惠使用失败，如有问题请联系客服（956）】 |                                                              |
| 5957   | 未找到特价菜优惠未找到【抱歉，该优惠使用失败，如有问题请联系客服（957）】 | 未找到特价菜优惠                                             |
| 5958   | 校验订单存在无法使用的菜单优惠【抱歉，该优惠使用失败，如有问题请联系客服（958）】 | 校验订单存在无法使用的菜单优惠，跟order校验订单的接口        |
| 5959   | 校验订单存在无法使用的推荐优惠【抱歉，该优惠使用失败，如有问题请联系客服（5959）】 | 校验订单存在无法使用的tradeUp，跟order校验订单的接口         |
| 5960   | 校验订单存在无法使用的券优惠【抱歉，该优惠使用失败，如有问题请联系客服（5960）】 | 校验订单存在无法使用的券优惠，跟order校验订单的接口          |
| 5961   | 校验订单存在无法使用的权益优惠【抱歉，该优惠使用失败，如有问题请联系客服（5961）】 |                                                              |
| 5962   | 校验订单存在无法使用的优惠项【抱歉，该优惠使用失败，如有问题请联系客服（5962）】 | 校验订单存在无法使用的优惠项                                 |
| 5963   | 餐厅位置不满足优惠规则【抱歉，该优惠使用失败，如有问题请联系客服（5963）】 | 餐厅位置不满足优惠规则                                       |
| 5964   | 当前查券渠道暂不支持【抱歉，该优惠使用失败，如有问题请联系客服（5964）】 | 当前查券渠道暂不支持                                         |
| 5965   | 缓存中未找到查券配置【抱歉，该优惠使用失败，如有问题请联系客服（5965）】 | 缓存中未找到查券配置                                         |
| 5966   | 当前用券渠道暂不支持【抱歉，该优惠使用失败，如有问题请联系客服（5966）】 | 当前用券渠道暂不支持                                         |
| 5967   | 缓存中未找到用券配置【抱歉，该优惠使用失败，如有问题请联系客服（5967）】 | 不会返回给前端                                               |
| 5968   | 查询券超时【抱歉，查询券超时，如有问题请联系客服（5968）】   | 查询券超时                                                   |
| 5982   | 优惠与VIP未绑定                                              | 备注：当前无该场景                                           |
